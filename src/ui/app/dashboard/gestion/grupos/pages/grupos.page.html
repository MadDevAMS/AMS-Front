<div class="flex flex-col md:flex-row md:h-full gap-3 font-poppins">
  <div class="md:w-1/2 xl:flex-1">
    <tabla-grupos (seleccion)="seleccionar($event)" [grupos]="grupos"></tabla-grupos>
  </div>
  <div class="flex flex-col md:w-1/2 xl:w-1/3 gap-3 overflow-auto">
    <card-layout [formGroup]="formGrupo">
      <p class="text-gray01 text-base font-semibold" header>Datos de grupo</p>
      <div class="flex flex-col gap-3" body>
        <mat-form-field
          appearance="outline"
          class="h-full sm:!flex-1 !text-sm sm:!text-base"
        >
          <mat-label class="!text-sm sm:!text-base">Nombre</mat-label>
          <mat-icon matPrefix>people</mat-icon>
          <input type="text" formControlName="nombre" name="nombre" matInput />
          @if(hasError('nombre', 'required')) {
          <mat-error>Ingrese el nombre del grupo</mat-error> }
        </mat-form-field>
        <mat-form-field
          appearance="outline"
          class="h-full sm:!flex-1 !text-sm sm:!text-base"
        >
          <mat-label class="!text-sm sm:!text-base">Descripcion</mat-label>
          <textarea
            formControlName="descripcion"
            name="descripcion"
            matInput
          ></textarea>
          @if(hasError('descripcion', 'required')) {
          <mat-error>Ingrese una descripcion</mat-error> }
        </mat-form-field>
      </div>
    </card-layout>
    <card-layout class="md:flex-1">
      <p class="text-gray01 text-base font-semibold" header>
        Permisos y accesos
      </p>
      <div class="flex flex-col gap-4" body>
        @for(permiso of permisos; track permiso.nombre) {
          <div class="flex items-center gap-1">
            <mat-checkbox class="!" color="primary"> </mat-checkbox>
            <mat-expansion-panel
              class="!rounded !bg-smoke1 !shadow-sm-ams-01 !w-full"
              hideToggle
            >
              <mat-expansion-panel-header class="!ps-0">
                <div class="py-4 px-5 flex justify-between text-base w-full">
                  <p>{{ permiso.nombre }}</p>
                </div>
              </mat-expansion-panel-header>
              <p class="text-wrap w-full">{{ permiso.descripcion }}</p>
            </mat-expansion-panel>
          </div>
        }
      </div>
    </card-layout>
    <div class="flex w-full gap-2">
      <button
        (click)="limpiar()"
        class="!shadow-expand-ams !rounded-lg !py-2.5 !px-5 !font-poppins !font-semibold !text-sm !h-full !flex-1"
        mat-raised-button
      >
        Limpiar
      </button>
      <button
        (click)="generarGrupo()"
        color="primary"
        class="!shadow-expand-ams !rounded-lg !py-2.5 !px-5 !font-poppins !font-semibold !text-sm !h-full !flex-1"
        mat-raised-button
      >      
        <mat-icon>add</mat-icon>
        Añadir
      </button>
    </div>
  </div>
  <div class="flex flex-col md:w-1/2 xl:w-1/3 gap-3">
    <div class="flex flex-col sm:flex-row justify-between gap-3">
      <div
        class="rounded-lg bg-white py-3 px-6 flex items-center text-base shadow-expand-ams w-full sm:w-auto"
      >
        <input
          type="text"
          placeholder="Busca aqui"
          class="focus:outline-none w-full"
        />
        <mat-icon>search</mat-icon>
      </div>
      <div class="flex gap-3">
        <button
          class="!bg-white !shadow-expand-ams !rounded-lg !py-2.5 !px-5 !text-blue02 !font-poppins !font-semibold !text-sm !h-full"
          mat-button
        >
          Filtrar
          <mat-icon>tune</mat-icon>
        </button>
      </div>
    </div>
    <div class="bg-white rounded h-full">
      <header class="px-6 py-3 flex text-gray01 shadow-expand-ams">
        <span class="w-14">Nro</span>
        <div
          class="grid grid-cols-[repeat(auto-fit,minmax(0,1fr))] flex-1 gap-2"
        >
          <span class="text-ellipsis overflow-clip text-nowrap">Nombres</span>
          <span class="text-ellipsis overflow-clip text-nowrap">Apellidos</span>
          <span class="text-ellipsis overflow-clip text-nowrap">Correo</span>
        </div>
      </header>
      <div class="px-6 py-6 flex items-center font-light text-sm">
        <span class="w-14">001</span>
        <div class="grid grid-cols-[repeat(auto-fit,minmax(0,1fr))] flex-1 gap-2">
          <span class="text-ellipsis overflow-clip text-nowrap">Juan José</span>
          <span class="text-ellipsis overflow-clip text-nowrap"
            >Condori Pinto</span
          >
          <span class="text-ellipsis overflow-clip text-nowrap"
            >juan.condori.p&#64;tecsup.edu.pe</span
          >
        </div>
      </div>
    </div>
  </div>
</div>
